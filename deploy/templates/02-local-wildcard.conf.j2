# Local DNS resolution for {{ dns_local_domain }}
# This ensures all subdomains resolve to the macmini's internal IP

# NOTE: These are commented out because we're using Tailscale IPs in 03-tailscale.conf
# If you want local-only resolution, uncomment these and remove 03-tailscale.conf
# address=/{{ dns_local_domain }}/{{ macmini_internal_ip }}
# address=/{{ ddns_domain }}/{{ macmini_internal_ip }}
# address=/xn--wersdrfer-47a.de/{{ macmini_internal_ip }}
# address=/home.xn--wersdrfer-47a.de/{{ macmini_internal_ip }}

# Prevent upstream lookups for these domains
local=/{{ ddns_domain }}/
local=/xn--wersdrfer-47a.de/

# Host records for specific entries - commented out in favor of Tailscale
# host-record={{ dns_local_domain }},{{ macmini_internal_ip }}
host-record=macmini.fritz.box,{{ macmini_internal_ip }}

# Additional service-specific entries can be added here
{% for service, port in service_ports.items() %}
# {{ service }}.{{ dns_local_domain }} handled by wildcard
{% endfor %}